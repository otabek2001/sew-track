{% if tasks %}
    {% for task in tasks %}
    <div class="p-4 hover:bg-gray-50 transition">
        <div class="flex items-start justify-between">
            <div class="flex-1">
                <h3 class="font-medium text-gray-800">{{ task.product.name }}</h3>
                <p class="text-sm text-gray-500 mt-1">
                    {{ task.operation.name }} â€¢ {{ task.quantity }} dona
                </p>
                <div class="flex items-center gap-2 mt-2">
                    <span class="
                        inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium
                        {% if task.status == 'completed' %}
                            bg-green-100 text-green-700
                        {% elif task.status == 'in_progress' %}
                            bg-yellow-100 text-yellow-700
                        {% else %}
                            bg-gray-100 text-gray-700
                        {% endif %}
                    ">
                        <i data-lucide="{% if task.status == 'completed' %}check{% elif task.status == 'in_progress' %}clock{% else %}circle{% endif %}" class="w-3 h-3"></i>
                        {{ task.get_status_display }}
                    </span>
                    <span class="text-xs text-gray-400">
                        {{ task.created_at|timesince }} oldin
                    </span>
                </div>
            </div>
            <div class="text-right ml-4">
                <p class="text-lg font-bold text-blue-600">{{ task.payment_amount|floatformat:0 }}</p>
                <p class="text-xs text-gray-500">so'm</p>
            </div>
        </div>
    </div>
    {% endfor %}
{% else %}
    <div class="p-8 text-center text-gray-500">
        <i data-lucide="inbox" class="w-12 h-12 mx-auto mb-2 opacity-50"></i>
        <p>Hali vazifalar yo'q</p>
    </div>
{% endif %}

<script>
    // Reinitialize Lucide icons for dynamically loaded content
    lucide.createIcons();
</script>

